angular.module("artemdemo.popup",[]).factory("$popup",["$rootScope","$compile","$q","$sce",function(a,b,c,d){var e,f,g={},h="closed",i={};return i.confirm=['<div class="popup-backdrop" ng-click="backdropClick()"></div>','<div class="popup-container popup-type-confirm">','<div class="popup">','<div class="popup-head">','<h3 class="popup-title ng-binding" ng-bind-html="TITLE"></h3>',"</div>",'<div class="popup-body">','<span ng-bind-html="BODY_TXT"></span>',"</div>",'<div class="popup-buttons">','<button ng-click="okAction()" class="btn btn-ok" ng-class="okType || \'btn-default\'">{{ OK_TXT }}</button>','<button ng-click="cancelAction()" class="btn btn-cancel" ng-class="cancelType || \'btn-default\'">{{ CANCEL_TXT }}</button>',"</div>","</div>","</div>"].join(""),i.show=['<div class="popup-backdrop" ng-click="backdropClick()"></div>','<div class="popup-container popup-type-show">','<div class="popup">','<div class="popup-head">','<h3 class="popup-title ng-binding" ng-bind-html="TITLE"></h3>',"</div>",'<div class="popup-body">','<span ng-bind-html="BODY_TXT"></span>',"</div>",'<div class="popup-buttons">','<button ng-click="okAction($event)" class="btn btn-ok" ng-class="okType || \'btn-default\'">{{ OK_TXT }}</button>',"</div>","</div>","</div>"].join(""),g.confirm=function(j){var k,l,m=c.defer();if("open"==h)return!1;h="open",j=angular.isObject(j)?j:{},f=angular.element(i.confirm),k=b(f),e=a.$new(),l=k(e),e.TITLE=j.hasOwnProperty("title")?j.title:"",e.BODY_TXT=j.hasOwnProperty("template")?d.trustAsHtml(j.template):"",e.CANCEL_TXT=j.hasOwnProperty("cancelText")?j.cancelText:"",e.OK_TXT=j.hasOwnProperty("okText")?j.okText:"";for(var n=0;n<l.length;n++)document.body.appendChild(l[n]);return e.cancelAction=function(){m.reject(),g.hide()},e.okAction=function(a){var b=!1;b=j.hasOwnProperty("okTap")&&angular.isFunction(j.okTap)?j.okTap(a):!0,m.resolve(b),b&&artPopup.hide()},m.promise},g.show=function(j){var k,l,m=c.defer();if("open"==h)return!1;h="open",j=angular.isObject(j)?j:{},f=angular.element(i.show),k=b(f),e=a.$new(),l=k(e),e.TITLE=j.hasOwnProperty("title")?j.title:"",e.BODY_TXT=j.hasOwnProperty("template")?d.trustAsHtml(j.template):"",e.OK_TXT=j.hasOwnProperty("okText")?j.okText:"";for(var n=0;n<l.length;n++)document.body.appendChild(l[n]);return e.okAction=function(){m.resolve(),g.hide()},m.promise},g.backdropClick=function(){},g.hide=function(){e.$destroy(),h="closed";for(var a=0;a<f.length;a++)f.remove()},g}]);